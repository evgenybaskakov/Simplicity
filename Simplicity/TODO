BUGS

- Fix this:

2014-04-15 23:49:02.371 Simplicity[72210:303] __50-[SMSimplicityContainer getIMAPServerCapabilities]_block_invoke: error getting IMAP capabilities: Error Domain=MCOErrorDomain Code=1 "A stable connection to the server could not be established." UserInfo=0x618000266980 {NSLocalizedDescription=A stable connection to the server could not be established.}

- Fix this:

NSAssert(index < [collection.messageThreadsByDate count], @"bad index");

- Fix 'to' address list initial layout;
- Fix selected message thread / message cursor disappearance on folder update.

MESSAGE THREAD

- message thread rebuilding when new messages arrive / vanish

MESSAGE LIST

- Must be programmatically created, with no NIB;
- Downloaded attachments rendering in the open message view;
- HTML rendering in background (MCOIMAPMessageRenderingOperation);
- Session renew;
- Resolve possible UID conflicts;
- Fix current message switch on list renewal;
- Implement unused messages cleanup to keep memory footprint reasonable;

===================================================================

- Message body preview;
- Message flags (unseen, star, etc);
- Server capabilities use (IDLE, etc);
- App finalization;
- DB compression (tokyo cabinet? MEDIUMBLOB won't be needed);
- DB error checks w/o crashes;
- Message list refresh on demand;
- Load older messages on demand;
- Message deletion propagation to the server;
- Save/restore view layout on app exit/startup;

NEW FEATURES

- Search (very basic for now);

...

SEARCH (ideas to implement)

- current message thread content search ("local search");
- "global search" for messages across folders (based on search expressions, see [MCOIMAPSession searchOperationWithFolder:kind:searchString:] and [MCOIMAPSession searchExpressionOperationWithFolder:expression:]);
- search results to appear as a message list;
- search history in the leftside toolbar above the folder list;
- highlight search pattern occurrences in the found message (for local AND global search);
- ...?


